{% extends 'base.html.twig' %}

{% block title %}Vehicule{% endblock %}

{% block body %}
    <h1 class="h2 text-center pt-4 mb-2">Détail du Véhicule</h1><br>

    <div class="row">
      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box">
          <span class="info-box-icon bg-info elevation-1"><i class="fas fa-car"></i></span>

          <div class="info-box-content">
            <span class="info-box-text">Prix d'achat</span>
            <span class="info-box-number">
              {{vehicule.prix}} €
            </span>
          </div>
        </div>
      </div>
      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box mb-3">
          <span class="info-box-icon bg-danger elevation-1"><i class="fa fa-edit"></i></span>

          <div class="info-box-content">
            <span class="info-box-text">Dépenses</span>
            <span class="info-box-number">{{depense_price}} €</span>
          </div>
        </div>
      </div>

      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box mb-3">
          <span class="info-box-icon bg-success elevation-1"><i class="fas fa-chart-bar"></i></span>

          <div class="info-box-content">
            <span class="info-box-text">Location</span>
            <span class="info-box-number">{{location_price}} €</span>
          </div>
        </div>
      </div>
      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box mb-3">
          <span class="info-box-icon bg-warning elevation-1"><i class="far fa-money-bill-alt"></i></span>

          <div class="info-box-content">
            <span class="info-box-text">Prix de vente</span>
            <span class="info-box-number">
              {% if vehicule.status == 2 %}
                {{ vehicule.prixVente }} €
              {% else %}
                Non vendu
              {% endif %}
              </span>
          </div>
        </div>
      </div>

      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box mb-3">
          <span class="info-box-icon bg-warning elevation-1"><i class="far fa-money-bill-alt"></i></span>

          <div class="info-box-content">
            <span class="info-box-text">Bénifices</span>
            <span class="info-box-number">{{vehicule_benefice}} €</span>
          </div>
        </div>
      </div>
    </div>
    <div class="row mb-4">
      <div class="col-1"><a class="btn btn-info" href="{{ path('vehicule_index') }}">Retour</a></div>
      <div class="col-2"><a class="btn btn-success" href="{{ path('vehicule_edit', {'id': vehicule.id}) }}" style="width:100%"><i class="fa fa-edit"></i> Modifier</a></div>
      <div class="col-4">{{ include('vehicule/_delete_form.html.twig') }}</div>
    </div>
    <form method="GET" action="{{ path('sellvehicule') }}">
      <input type="hidden" name="idvehicule" value="{{vehicule.id}}">
      <div class="row mb-3">
        <div class="col-3"><input type="number" step="0.01" name="prixvente" class="form-control" autocomplete="off" required placeholder="Introduire le prix de vente (€)"></div>
        <div class="col-2"><input type="date" name="dateVente" class="form-control" autocomplete="off" required></div>
        <div class="col-2"><button type="submit" class="btn btn-primary">Vendre le véhicule</button></div>
      </div>
    </form>


    <div class="card mb-3">
        <div class="card-body">
            <table class="table table-striped ">
                    <tbody>
                        <tr>
                            <th>Id</th>
                            <td>{{ vehicule.id }}</td>
                        <tr>
                            <th>Parc de Stationnement</th>
                            <td>{{ vehicule.parcStationnementVille }}</td>
                        </tr>
                        </tr>
                        <tr>
                            <th>Marque</th>
                            <td>{{ vehicule.mark }}</td>
                        </tr>
                        <tr>
                            <th>Modèle</th>
                            <td>{{ vehicule.model }}</td>
                        </tr>
                        <tr>
                            <th>Immatriculation</th>
                            <td>{{ vehicule.immatriculation }}</td>
                        </tr>
                        <tr>
                            <th>Date d'immatriculation</th>
                            <td>{{ vehicule.dateImmatriculation ? vehicule.dateImmatriculation|date('d/m/Y') : '' }}</td>
                        </tr>
                        <tr>
                            <th>Nombre de Place</th>
                            <td>{{ vehicule.nombrePlace }}</td>
                        </tr>
                        <tr>
                            <th>Nombre de Porte</th>
                            <td>{{ vehicule.nombrePorte }}</td>
                        </tr>
                        <tr>
                            <th>Phase Finition</th>
                            <td>{{ vehicule.phaseFinition }}</td>
                        </tr>
                        <tr>
                            <th>Energie</th>
                            <td>{{ vehicule.energie }}</td>
                        </tr>
                        <tr>
                            <th>Couleur</th>
                            <td>{{ vehicule.couleur }}</td>
                        </tr>
                        <tr>
                            <th>Date d'achat</th>
                            <td>{{ vehicule.dataAchat ? vehicule.dataAchat|date('d/m/Y') : '' }}</td>
                        </tr>
                        {% if vehicule.dateVente %}
                        <tr>
                          <th>Data de vente</th>
                          <td>{{ vehicule.dateVente ? vehicule.dateVente|date('d/m/Y') : '' }}</td>
                        </tr>
                        {% endif %}
                        <tr>
                            <th>Kilometrage d'achat</th>
                            <td>{{ vehicule.kilometrageAchat }}</td>
                        </tr>
                        <tr>
                            <th>Prix</th>
                            <td>{{ vehicule.prix }} €</td>
                        </tr>
                        <tr>
                            <th>Prix de vente</th>
                            <td>{{ vehicule.prixVente }} €</td>
                        </tr>
                        <tr>
                            <th>Options</th>
                            <td>{{ vehicule.options|join(', ') }}</td>
                        </tr>
                        <tr>
                            <th>ID Getaround</th>
                            <td>{{ vehicule.idVehiculeGetaround }}</td>
                        </tr>
                    </tbody>
            </table>
        </div>
    </div> 
{% endblock %}
